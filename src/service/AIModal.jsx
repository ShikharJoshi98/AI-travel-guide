import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
   
    
     export const chatSession = model.startChat({
        generationConfig,
        history: [
          {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for location: Mumbai, for 3 Days for {traveler} with a Luxury budget , give me Hotels options list with Hotelname, Hotel address, Price, hotel image url, geo coordinates, ratings, descriptions and suggest itenary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Mumbai\",\n    \"duration\": \"3 Days\",\n     \"traveler\": \"{traveler}\",\n    \"budget\": \"Luxury\",\n    \"hotels\": [\n      {\n        \"hotelName\": \"The Taj Mahal Palace\",\n        \"hotelAddress\": \"Apollo Bunder, Colaba, Mumbai, Maharashtra 400001, India\",\n        \"price\": \"₹30,000 - ₹70,000 per night\",\n        \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/00/21/1f/taj-mahal-palace.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 18.9219,\n          \"longitude\": 72.8334\n        },\n        \"ratings\": 4.7,\n        \"description\": \"An iconic luxury hotel with stunning views, opulent interiors, and world-class dining.\"\n      },\n       {\n        \"hotelName\": \"The St. Regis Mumbai\",\n        \"hotelAddress\": \"462 Senapati Bapat Marg, Lower Parel, Mumbai, Maharashtra 400013, India\",\n        \"price\": \"₹25,000 - ₹55,000 per night\",\n        \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/9e/d6/0f/the-st-regis-mumbai.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 19.0058,\n          \"longitude\": 72.8336\n        },\n        \"ratings\": 4.6,\n        \"description\": \"A modern luxury hotel with exceptional service, fine dining, and a rooftop pool.\"\n      },\n       {\n        \"hotelName\": \"Four Seasons Hotel Mumbai\",\n        \"hotelAddress\": \"1/136, Dr. E Moses Rd, Upper Worli, Worli, Mumbai, Maharashtra 400018, India\",\n        \"price\": \"₹22,000 - ₹50,000 per night\",\n         \"hotelImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/09/1b/09/d4/four-seasons-hotel-mumbai.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 19.0137,\n          \"longitude\": 72.8237\n        },\n        \"ratings\": 4.5,\n         \"description\": \"A luxurious retreat with spacious rooms, a rooftop bar, and a serene spa.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Historical Mumbai and Colonial Charm\",\n        \"bestTimeToVisit\": \"Morning (8:00 AM - 12:00 PM) and Late Afternoon (4:00 PM - 6:00 PM)\",\n        \"places\": [\n          {\n             \"placeName\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\",\n            \"placeDetails\": \"A UNESCO World Heritage site, this Victorian-era railway station is an architectural marvel.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/17/49/05/ae/chhatrapati-shivaji.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9402,\n              \"longitude\": 72.8345\n             },\n            \"ticketPricing\": \"Free (entry to the main hall)\",\n            \"timeTravel\": \"20 minutes from South Mumbai hotels, 40-60 mins from other hotels\"\n          },\n           {\n            \"placeName\": \"Gateway of India\",\n            \"placeDetails\": \"An iconic arch overlooking the Arabian Sea, a symbol of Mumbai.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/82/d4/c1/gateway-of-india-mumbai.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n              \"latitude\": 18.9220,\n              \"longitude\": 72.8347\n            },\n             \"ticketPricing\": \"Free\",\n            \"timeTravel\": \"5-10 minutes from CST\"\n          },\n          {\n            \"placeName\": \"Elephanta Caves\",\n             \"placeDetails\": \"A UNESCO World Heritage site featuring ancient rock-cut temples on an island near Mumbai.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/4e/d6/0a/elephanta-island.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n              \"latitude\": 18.9660,\n               \"longitude\": 72.9307\n            },\n            \"ticketPricing\": \"₹60 for Indians, ₹800 for foreigners + ferry cost (~₹200-250)\",\n             \"timeTravel\":\"Ferry from Gateway of India (approx. 1 hour each way), visit takes about 2-3 hours.\"\n          },\n             {\n            \"placeName\": \"Marine Drive\",\n            \"placeDetails\":\"A scenic promenade along the coastline, famous for its 'Queen's Necklace' view at night.\",\n             \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/17/84/ba/78/marine-drive.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n             \"latitude\": 18.9540,\n               \"longitude\": 72.8183\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeTravel\":\"20-30 mins from Elephanta Island (After reaching back to Gateway of India)\"\n           }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Culture, Art, and Shopping\",\n        \"bestTimeToVisit\": \"Late Morning (10:00 AM - 1:00 PM) and Afternoon (3:00 PM - 6:00 PM)\",\n         \"places\": [\n          {\n            \"placeName\": \"Dharavi Slum\",\n            \"placeDetails\": \"Experience the entrepreneurial spirit and community life within Dharavi (guided tours recommended)\",\n             \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/11/b0/ff/29/dharavi-slum.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n             \"latitude\": 19.0508,\n              \"longitude\": 72.8618\n             },\n            \"ticketPricing\": \"Guided tours usually cost between ₹800 - ₹2000\",\n             \"timeTravel\": \"30-40 minutes from South Mumbai.\"\n          },\n          {\n             \"placeName\": \"Mani Bhavan Gandhi Museum\",\n            \"placeDetails\": \"A former residence of Mahatma Gandhi, now a museum showcasing his life and work.\",\n            \"placeImageUrl\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/15/2f/9b/mani-bhavan-gandhi-museum.jpg?w=700&h=-1&s=1\",\n              \"geoCoordinates\": {\n               \"latitude\": 18.9614,\n               \"longitude\": 72.8071\n             },\n            \"ticketPricing\": \"₹20 for Indians, ₹100 for foreigners\",\n            \"timeTravel\":\"30 mins from Dharavi\"\n          },\n          {\n             \"placeName\": \"Jehangir Art Gallery\",\n             \"placeDetails\": \"A prominent art gallery showcasing contemporary Indian art.\",\n              \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/2b/46/9b/jehangir-art-gallery.jpg?w=700&h=-1&s=1\",\n              \"geoCoordinates\": {\n             \"latitude\": 18.9253,\n             \"longitude\": 72.8338\n             },\n            \"ticketPricing\": \"Free (some exhibitions may have a small entry fee)\",\n            \"timeTravel\":\"20 mins from Mani Bhavan\"\n          },\n            {\n            \"placeName\": \"Colaba Causeway Market\",\n            \"placeDetails\": \"A vibrant street market, perfect for souvenirs and local crafts.\",\n             \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/08/83/4f/colaba-causeway.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n             \"latitude\": 18.9183,\n             \"longitude\": 72.8333\n            },\n            \"ticketPricing\": \"Free (shopping costs vary)\",\n            \"timeTravel\":\" 5-10 minutes from Jehangir Art Gallery\"\n          }\n        ]\n      },\n       \"day3\": {\n         \"theme\": \"Modern Mumbai and Relaxation\",\n          \"bestTimeToVisit\": \"Morning (9:00 AM - 12:00 PM) and Evening (4:00 PM - 7:00 PM)\",\n        \"places\": [\n            {\n            \"placeName\": \"Bandra-Worli Sea Link\",\n              \"placeDetails\": \"An impressive cable-stayed bridge, offering great views of the Mumbai skyline.\",\n               \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/b0/89/d5/bandra-worli-sea-link.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n               \"latitude\": 19.0300,\n               \"longitude\": 72.8200\n             },\n            \"ticketPricing\": \"Toll charges applicable (car: ₹85)\",\n           \"timeTravel\":\"20-30 mins from Colaba Causeway\"\n          },\n          {\n            \"placeName\": \"Siddhivinayak Temple\",\n            \"placeDetails\": \"A famous Hindu temple dedicated to Lord Ganesha, known for its beautiful architecture.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/08/33/78/f5/siddhivinayak-temple.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n             \"latitude\": 19.0237,\n              \"longitude\": 72.8410\n            },\n             \"ticketPricing\": \"Free (donations are welcome)\",\n            \"timeTravel\":\"20-30 mins from Bandra Worli Sealink\"\n          },\n          {\n             \"placeName\": \"Juhu Beach\",\n            \"placeDetails\":\"A popular beach known for its street food and vibrant atmosphere.\",\n             \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/d0/f8/44/juhu-beach.jpg?w=700&h=-1&s=1\",\n             \"geoCoordinates\": {\n              \"latitude\": 19.0913,\n             \"longitude\": 72.8259\n            },\n            \"ticketPricing\": \"Free\",\n           \"timeTravel\":\"30 mins from Siddhivinayak Temple\"\n          },\n         {\n           \"placeName\": \"Luxury Spa Session\",\n            \"placeDetails\": \"Enjoy a relaxing spa treatment at your hotel or a high-end spa in the city.\",\n            \"placeImageUrl\": \"https://www.thespabridgewater.com/wp-content/uploads/2022/03/spa-treatments-3.jpg\",\n             \"geoCoordinates\": {\n               \"latitude\": 0,\n               \"longitude\": 0\n            },\n            \"ticketPricing\": \"Varies greatly depending on the spa and treatment\",\n            \"timeTravel\": \"Depending on hotel\"\n            }\n        ]\n      }\n    }\n  }\n}\n```\n"},
            ],
          },
        ],
      });
    
      
   
 
  

  
